{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useState, useRef } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { db, auth } from \"../../firebase2\";\nimport { Button } from 'react-native-elements';\nimport styles from \"./style\";\nimport { arrayUnion, updateDoc } from \"firebase/firestore\";\nimport { Form } from \"formik\";\nimport { RefreshControl } from \"react-native-gesture-handler\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar CrearBlogScreen = function CrearBlogScreen(props) {\n  var initalState = {\n    name: \"\",\n    description: \"\",\n    tags: [],\n    nickname: \"\",\n    comments: \"\"\n  };\n  var InputRef = useRef();\n\n  var _useState = useState(initalState),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var handleChangeText = function handleChangeText(value, name) {\n    if (name === \"tags\") {\n      var tags = value.split(\",\");\n      console.log(tags);\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        tags: tags\n      }));\n    } else {\n      setState(_objectSpread(_objectSpread({}, state), {}, _defineProperty({}, name, value)));\n    }\n  };\n\n  var GenerateUniqueID = function GenerateUniqueID() {\n    return Math.floor(Math.random() * Date.now()).toString();\n  };\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Comments = _useState4[0],\n      SetComments = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      commentValue = _useState6[0],\n      setCommentValue = _useState6[1];\n\n  var addToComments = function addToComments() {\n    var temp = {\n      commentValue: commentValue,\n      id: GenerateUniqueID(),\n      autor: auth.currentUser.email\n    };\n    var ref = db.collection('Inventario').doc(props.route.params.userId);\n    updateDoc(ref, {\n      comments: arrayUnion(temp)\n    }).then(function (r) {\n      console.log(r);\n    });\n    SetComments([].concat(_toConsumableArray(Comments), [temp]));\n    setCommentValue('');\n    InputRef.current.clear();\n  };\n\n  var saveNewUser = function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(state.description === \"\" || state.name === \"\")) {\n              _context.next = 4;\n              break;\n            }\n\n            alert(\"Por favor ingrese un descripción\");\n            _context.next = 12;\n            break;\n\n          case 4:\n            _context.prev = 4;\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(db.collection(\"Inventario\").add({\n              autor: auth.currentUser.email,\n              name: state.name,\n              description: state.description,\n              tags: state.tags,\n              nickname: state.nickname,\n              comments: Comments\n            }));\n\n          case 7:\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](4);\n            console.log(_context.t0);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[4, 9]], Promise);\n  };\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      image = _useState8[0],\n      setImage = _useState8[1];\n\n  var pickImage = function _callee2() {\n    var result;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All\n            }));\n\n          case 2:\n            result = _context2.sent;\n\n            if (!result.cancelled) {\n              setImage(result.uri);\n            }\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsx(KeyboardAvoidingView, {\n    style: styles.containerView,\n    behavior: \"padding\",\n    children: _jsx(View, {\n      style: styles.loginScreenContainer,\n      children: _jsxs(View, {\n        style: styles.loginFormView,\n        children: [_jsx(Text, {\n          style: styles.logoText,\n          children: \"Cuenta tu historia\"\n        }), _jsx(TextInput, {\n          onChangeText: function onChangeText(value) {\n            return handleChangeText(value, \"name\");\n          },\n          placeholder: \"Titulo\",\n          placeholderColor: \"#c4c3cb\",\n          style: styles.loginFormTextInput\n        }), _jsx(TextInput, {\n          onChangeText: function onChangeText(value) {\n            return handleChangeText(value, \"nickname\");\n          },\n          placeholder: \"Nombre de usuario, los moderadores pueden ver quien escribe\",\n          placeholderColor: \"#c4c3cb\",\n          multiline: true,\n          style: styles.loginFormTextInput\n        }), _jsx(TextInput, {\n          onChangeText: function onChangeText(value) {\n            return handleChangeText(value, \"description\");\n          },\n          placeholder: \"Cu\\xE9ntanos tu historia\",\n          placeholderColor: \"#c4c3cb\",\n          style: styles.loginFormTextInput,\n          multiline: true\n        }), _jsx(TextInput, {\n          onChangeText: function onChangeText(value) {\n            return handleChangeText(value, \"tags\");\n          },\n          placeholder: \"Tags (separados por comas)\",\n          placeholderColor: \"#c4c3cb\",\n          style: styles.loginFormTextInput\n        }), _jsx(Button, {\n          buttonStyle: {\n            backgroundColor: '#00ADC7'\n          },\n          onPress: function onPress() {\n            saveNewUser();\n            props.navigation.navigate(\"Home\");\n          },\n          title: \"Publicar\"\n        })]\n      })\n    })\n  });\n};\n\nexport default CrearBlogScreen;","map":{"version":3,"names":["React","useState","useRef","db","auth","Button","styles","arrayUnion","updateDoc","Form","RefreshControl","CrearBlogScreen","props","initalState","name","description","tags","nickname","comments","InputRef","state","setState","handleChangeText","value","split","console","log","GenerateUniqueID","Math","floor","random","Date","now","toString","Comments","SetComments","commentValue","setCommentValue","addToComments","temp","id","autor","currentUser","email","ref","collection","doc","route","params","userId","then","r","current","clear","saveNewUser","alert","add","image","setImage","pickImage","ImagePicker","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","result","cancelled","uri","containerView","loginScreenContainer","loginFormView","logoText","loginFormTextInput","backgroundColor","navigation","navigate"],"sources":["/Users/victorsalgado/Desktop/goodmental/src/screens/BlogScreen.js"],"sourcesContent":["import React, {useState, useRef} from \"react\";\nimport {\n    View, StyleSheet, TextInput, ScrollView, KeyboardAvoidingView, Text\n} from \"react-native\";\nimport {db,auth} from \"../../firebase2\";\nimport {Button} from 'react-native-elements'\nimport styles from './style'\nimport {arrayUnion, updateDoc} from \"firebase/firestore\";\nimport { Form } from \"formik\";\nimport { RefreshControl } from \"react-native-gesture-handler\";\n\nconst CrearBlogScreen = (props) => {\n    const initalState = {\n        name: \"\", description: \"\", tags: [], nickname: \"\", comments: \"\",\n    };\n    const InputRef = useRef();\n    const [state, setState] = useState(initalState);\n\n    const handleChangeText = (value, name) => {\n\n        if (name === \"tags\") {\n            const tags = value.split(\",\");\n            console.log(tags);\n            setState({...state, tags});\n        } else {\n            setState({...state, [name]: value});\n        }\n    };\n    const GenerateUniqueID = () => {\n        return Math.floor(Math.random() * Date.now()).toString();\n    };\n    const [Comments, SetComments] = useState([]);\n    const [commentValue, setCommentValue] = useState('');\n    const addToComments = () => {\n        let temp = {\n            commentValue: commentValue,\n            id: GenerateUniqueID(),\n            autor: auth.currentUser.email\n        };\n        const ref = db.collection('Inventario').doc(props.route.params.userId);\n        updateDoc(ref, {\n            comments: arrayUnion(temp)\n        }).then(r => {\n            console.log(r);\n        });\n        SetComments([...Comments, temp]); // Adds comment to Array\n        setCommentValue(''); // Clears the TextInput Field\n        InputRef.current.clear();\n    }\n\n\n    const saveNewUser = async () => {\n        if (state.description === \"\" || state.name === \"\") {\n            alert(\"Por favor ingrese un descripción\")\n        } else {\n            try {\n                await db.collection(\"Inventario\").add({\n                    autor: auth.currentUser.email,\n                    name: state.name,\n                    description: state.description,\n                    tags: state.tags,\n                    nickname: state.nickname,\n                    comments: Comments\n\n                })\n\n            } catch (error) {\n                console.log(error)\n            }\n        }\n    };\n    const [image, setImage] = useState(\"\");\n    const pickImage = async () => {\n        let result = await ImagePicker.launchImageLibraryAsync({\n            mediaTypes: ImagePicker.MediaTypeOptions.All,\n        });\n\n\n        if (!result.cancelled) {\n            setImage(result.uri);\n        }\n    };\n    return (\n        <KeyboardAvoidingView style={styles.containerView} behavior=\"padding\">\n            <View style={styles.loginScreenContainer}>\n                <View style={styles.loginFormView}>\n                    <Text style={styles.logoText}>Cuenta tu historia</Text>\n                    <TextInput\n                        onChangeText={(value) => handleChangeText(value, \"name\")}\n                        placeholder=\"Titulo\"\n                        placeholderColor=\"#c4c3cb\"\n                        style={styles.loginFormTextInput}/>\n                    <TextInput\n                        onChangeText={(value) => handleChangeText(value, \"nickname\")}\n                        placeholder=\"Nombre de usuario, los moderadores pueden ver quien escribe\"\n                        placeholderColor=\"#c4c3cb\"\n                        multiline={true}\n                        style={styles.loginFormTextInput}/>\n                    <TextInput\n                        onChangeText={(value) => handleChangeText(value, \"description\")}\n                        placeholder=\"Cuéntanos tu historia\" placeholderColor=\"#c4c3cb\"\n                        style={styles.loginFormTextInput}\n                        multiline={true}\n                    />\n                    <TextInput\n                        onChangeText={(value) => handleChangeText(value, \"tags\")}\n                        placeholder=\"Tags (separados por comas)\" placeholderColor=\"#c4c3cb\"\n                        style={styles.loginFormTextInput}\n                    />\n\n                    <Button\n                        buttonStyle={{\n                            backgroundColor: '#00ADC7',\n                        }}\n                        onPress={\n                            () => {\n                                saveNewUser()\n\n                                props.navigation.navigate(\"Home\")\n                                \n                            }\n                        } title=\"Publicar\"/>\n\n                </View>\n            </View>\n        </KeyboardAvoidingView>\n\n    );\n};\n\nexport default CrearBlogScreen;"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,MAAzB,QAAsC,OAAtC;;;;;;;AAIA,SAAQC,EAAR,EAAWC,IAAX;AACA,SAAQC,MAAR,QAAqB,uBAArB;AACA,OAAOC,MAAP;AACA,SAAQC,UAAR,EAAoBC,SAApB,QAAoC,oBAApC;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,SAASC,cAAT,QAA+B,8BAA/B;;;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;EAC/B,IAAMC,WAAW,GAAG;IAChBC,IAAI,EAAE,EADU;IACNC,WAAW,EAAE,EADP;IACWC,IAAI,EAAE,EADjB;IACqBC,QAAQ,EAAE,EAD/B;IACmCC,QAAQ,EAAE;EAD7C,CAApB;EAGA,IAAMC,QAAQ,GAAGjB,MAAM,EAAvB;;EACA,gBAA0BD,QAAQ,CAACY,WAAD,CAAlC;EAAA;EAAA,IAAOO,KAAP;EAAA,IAAcC,QAAd;;EAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD,EAAQT,IAAR,EAAiB;IAEtC,IAAIA,IAAI,KAAK,MAAb,EAAqB;MACjB,IAAME,IAAI,GAAGO,KAAK,CAACC,KAAN,CAAY,GAAZ,CAAb;MACAC,OAAO,CAACC,GAAR,CAAYV,IAAZ;MACAK,QAAQ,iCAAKD,KAAL;QAAYJ,IAAI,EAAJA;MAAZ,GAAR;IACH,CAJD,MAIO;MACHK,QAAQ,iCAAKD,KAAL,2BAAaN,IAAb,EAAoBS,KAApB,GAAR;IACH;EACJ,CATD;;EAUA,IAAMI,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;IAC3B,OAAOC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBC,IAAI,CAACC,GAAL,EAA3B,EAAuCC,QAAvC,EAAP;EACH,CAFD;;EAGA,iBAAgChC,QAAQ,CAAC,EAAD,CAAxC;EAAA;EAAA,IAAOiC,QAAP;EAAA,IAAiBC,WAAjB;;EACA,iBAAwClC,QAAQ,CAAC,EAAD,CAAhD;EAAA;EAAA,IAAOmC,YAAP;EAAA,IAAqBC,eAArB;;EACA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;IACxB,IAAIC,IAAI,GAAG;MACPH,YAAY,EAAEA,YADP;MAEPI,EAAE,EAAEb,gBAAgB,EAFb;MAGPc,KAAK,EAAErC,IAAI,CAACsC,WAAL,CAAiBC;IAHjB,CAAX;IAKA,IAAMC,GAAG,GAAGzC,EAAE,CAAC0C,UAAH,CAAc,YAAd,EAA4BC,GAA5B,CAAgClC,KAAK,CAACmC,KAAN,CAAYC,MAAZ,CAAmBC,MAAnD,CAAZ;IACAzC,SAAS,CAACoC,GAAD,EAAM;MACX1B,QAAQ,EAAEX,UAAU,CAACgC,IAAD;IADT,CAAN,CAAT,CAEGW,IAFH,CAEQ,UAAAC,CAAC,EAAI;MACT1B,OAAO,CAACC,GAAR,CAAYyB,CAAZ;IACH,CAJD;IAKAhB,WAAW,8BAAKD,QAAL,IAAeK,IAAf,GAAX;IACAF,eAAe,CAAC,EAAD,CAAf;IACAlB,QAAQ,CAACiC,OAAT,CAAiBC,KAAjB;EACH,CAfD;;EAkBA,IAAMC,WAAW,GAAG;IAAA;MAAA;QAAA;UAAA;YAAA,MACZlC,KAAK,CAACL,WAAN,KAAsB,EAAtB,IAA4BK,KAAK,CAACN,IAAN,KAAe,EAD/B;cAAA;cAAA;YAAA;;YAEZyC,KAAK,CAAC,kCAAD,CAAL;YAFY;YAAA;;UAAA;YAAA;YAAA;YAAA,iCAKFpD,EAAE,CAAC0C,UAAH,CAAc,YAAd,EAA4BW,GAA5B,CAAgC;cAClCf,KAAK,EAAErC,IAAI,CAACsC,WAAL,CAAiBC,KADU;cAElC7B,IAAI,EAAEM,KAAK,CAACN,IAFsB;cAGlCC,WAAW,EAAEK,KAAK,CAACL,WAHe;cAIlCC,IAAI,EAAEI,KAAK,CAACJ,IAJsB;cAKlCC,QAAQ,EAAEG,KAAK,CAACH,QALkB;cAMlCC,QAAQ,EAAEgB;YANwB,CAAhC,CALE;;UAAA;YAAA;YAAA;;UAAA;YAAA;YAAA;YAgBRT,OAAO,CAACC,GAAR;;UAhBQ;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAApB;;EAoBA,iBAA0BzB,QAAQ,CAAC,EAAD,CAAlC;EAAA;EAAA,IAAOwD,KAAP;EAAA,IAAcC,QAAd;;EACA,IAAMC,SAAS,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACKC,WAAW,CAACC,uBAAZ,CAAoC;cACnDC,UAAU,EAAEF,WAAW,CAACG,gBAAZ,CAA6BC;YADU,CAApC,CADL;;UAAA;YACVC,MADU;;YAMd,IAAI,CAACA,MAAM,CAACC,SAAZ,EAAuB;cACnBR,QAAQ,CAACO,MAAM,CAACE,GAAR,CAAR;YACH;;UARa;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAlB;;EAUA,OACI,KAAC,oBAAD;IAAsB,KAAK,EAAE7D,MAAM,CAAC8D,aAApC;IAAmD,QAAQ,EAAC,SAA5D;IAAA,UACI,KAAC,IAAD;MAAM,KAAK,EAAE9D,MAAM,CAAC+D,oBAApB;MAAA,UACI,MAAC,IAAD;QAAM,KAAK,EAAE/D,MAAM,CAACgE,aAApB;QAAA,WACI,KAAC,IAAD;UAAM,KAAK,EAAEhE,MAAM,CAACiE,QAApB;UAAA;QAAA,EADJ,EAEI,KAAC,SAAD;UACI,YAAY,EAAE,sBAAChD,KAAD;YAAA,OAAWD,gBAAgB,CAACC,KAAD,EAAQ,MAAR,CAA3B;UAAA,CADlB;UAEI,WAAW,EAAC,QAFhB;UAGI,gBAAgB,EAAC,SAHrB;UAII,KAAK,EAAEjB,MAAM,CAACkE;QAJlB,EAFJ,EAOI,KAAC,SAAD;UACI,YAAY,EAAE,sBAACjD,KAAD;YAAA,OAAWD,gBAAgB,CAACC,KAAD,EAAQ,UAAR,CAA3B;UAAA,CADlB;UAEI,WAAW,EAAC,6DAFhB;UAGI,gBAAgB,EAAC,SAHrB;UAII,SAAS,EAAE,IAJf;UAKI,KAAK,EAAEjB,MAAM,CAACkE;QALlB,EAPJ,EAaI,KAAC,SAAD;UACI,YAAY,EAAE,sBAACjD,KAAD;YAAA,OAAWD,gBAAgB,CAACC,KAAD,EAAQ,aAAR,CAA3B;UAAA,CADlB;UAEI,WAAW,EAAC,0BAFhB;UAEwC,gBAAgB,EAAC,SAFzD;UAGI,KAAK,EAAEjB,MAAM,CAACkE,kBAHlB;UAII,SAAS,EAAE;QAJf,EAbJ,EAmBI,KAAC,SAAD;UACI,YAAY,EAAE,sBAACjD,KAAD;YAAA,OAAWD,gBAAgB,CAACC,KAAD,EAAQ,MAAR,CAA3B;UAAA,CADlB;UAEI,WAAW,EAAC,4BAFhB;UAE6C,gBAAgB,EAAC,SAF9D;UAGI,KAAK,EAAEjB,MAAM,CAACkE;QAHlB,EAnBJ,EAyBI,KAAC,MAAD;UACI,WAAW,EAAE;YACTC,eAAe,EAAE;UADR,CADjB;UAII,OAAO,EACH,mBAAM;YACFnB,WAAW;YAEX1C,KAAK,CAAC8D,UAAN,CAAiBC,QAAjB,CAA0B,MAA1B;UAEH,CAVT;UAWM,KAAK,EAAC;QAXZ,EAzBJ;MAAA;IADJ;EADJ,EADJ;AA8CH,CArHD;;AAuHA,eAAehE,eAAf"},"metadata":{},"sourceType":"module"}