{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport * as Yup from 'yup';\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { KeyboardAwareScrollView } from \"react-native-keyboard-aware-scroll-view\";\nimport Checkbox from \"expo-checkbox\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { auth, signInWithEmailAndPassword } from \"../firebase/firebase\";\nimport { login } from \"../redux/features/userSlice\";\nimport Screen from \"../components/Screen\";\nimport Header from \"../components/Header\";\nimport AppText from \"../components/AppText\";\nimport AppForm from \"./../components/form/AppForm\";\nimport AppFormField from \"./../components/form/AppFormField\";\nimport SubmitButton from \"./../components/form/SubmitButton\";\nimport { spacing, colors } from \"../theme\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar validationSchema = Yup.object().shape({\n  email: Yup.string().required().email().label(\"Email\"),\n  password: Yup.string().required().min(6).label(\"Password\")\n});\nexport default function LoginScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      toggleCheckBox = _useState2[0],\n      setToggleCheckBox = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      values = _useState4[0],\n      setValues = _useState4[1];\n\n  var dispatch = useDispatch();\n  return _jsxs(_Fragment, {\n    children: [_jsx(Header, {\n      title: \"Iniciar sesi\\xF3n\",\n      onPress: function onPress() {\n        return navigation.goBack();\n      }\n    }), _jsxs(KeyboardAwareScrollView, {\n      contentContainerStyle: {\n        flexGrow: 1,\n        paddingHorizontal: 20,\n        paddingVertical: 25\n      },\n      showsHorizontalScrollIndicator: false,\n      children: [_jsx(View, {\n        style: styles.logoContainer\n      }), _jsx(View, {\n        style: styles.formContainer,\n        children: _jsxs(AppForm, {\n          initialValues: {\n            email: \"\",\n            password: \"\"\n          },\n          onSubmit: function onSubmit(values) {\n            var email = values.email;\n            var password = values.password;\n            signInWithEmailAndPassword(auth, email, password).then(function (userCredential) {\n              var user = userCredential.user;\n              dispatch(login({\n                displayName: user.displayName,\n                email: user.email,\n                uid: user.uid\n              }));\n              navigation.navigate('AccountConfirmation');\n            }).catch(function (error) {\n              var errorMessage = error.message;\n              alert(errorMessage);\n            });\n          },\n          validationSchema: validationSchema,\n          children: [_jsx(AppFormField, {\n            placeholderText: \"Correo electr\\xF3nico\",\n            name: \"email\"\n          }), _jsx(AppFormField, {\n            placeholderText: \"Contrase\\xF1a\",\n            name: \"password\",\n            secureTextEntry: true\n          }), _jsx(View, {\n            style: styles.userCheckMeta,\n            children: _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return navigation.navigate(\"ForgotPassword\");\n              },\n              children: _jsx(AppText, {\n                style: styles.forgotPass,\n                children: \"\\xBFOlvidaste tu contrase\\xF1a?\"\n              })\n            })\n          }), _jsx(SubmitButton, {\n            title: \"Iniciar sesi\\xF3n\",\n            style: {\n              marginTop: spacing[4]\n            }\n          })]\n        })\n      }), _jsx(View, {\n        style: styles.signUpLinkContainer,\n        children: _jsxs(View, {\n          style: styles.signUpTextContainer,\n          children: [_jsx(AppText, {\n            children: \"\\xBFNo tienes una cuenta?\"\n          }), _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return navigation.navigate(\"Register\");\n            },\n            children: _jsx(AppText, {\n              preset: \"bold\",\n              style: styles.link,\n              children: \"Reg\\xEDstrate\"\n            })\n          })]\n        })\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  logoContainer: {\n    marginTop: 15,\n    marginBottom: 50,\n    alignItems: \"center\"\n  },\n  userCheckMeta: {\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  },\n  formContainer: {\n    paddingHorizontal: 20\n  },\n  forgotPass: {\n    textAlign: \"right\",\n    color: colors.black\n  },\n  checkboxContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  label: {\n    margin: 8,\n    color: colors.black\n  },\n  loginBtn: {\n    marginTop: 20\n  },\n  signUpLinkContainer: {\n    justifyContent: 'center',\n    alignItems: 'flex-end',\n    flex: 1,\n    flexDirection: \"row\"\n  },\n  signUpTextContainer: {\n    flexDirection: \"row\"\n  },\n  link: {\n    marginLeft: 5,\n    color: colors.primary\n  }\n});","map":{"version":3,"names":["React","useState","Yup","KeyboardAwareScrollView","Checkbox","useDispatch","useSelector","auth","signInWithEmailAndPassword","login","Screen","Header","AppText","AppForm","AppFormField","SubmitButton","spacing","colors","validationSchema","object","shape","email","string","required","label","password","min","LoginScreen","navigation","toggleCheckBox","setToggleCheckBox","values","setValues","dispatch","goBack","flexGrow","paddingHorizontal","paddingVertical","styles","logoContainer","formContainer","then","userCredential","user","displayName","uid","navigate","catch","error","errorMessage","message","alert","userCheckMeta","forgotPass","marginTop","signUpLinkContainer","signUpTextContainer","link","StyleSheet","create","marginBottom","alignItems","flexDirection","justifyContent","textAlign","color","black","checkboxContainer","margin","loginBtn","flex","marginLeft","primary"],"sources":["/Users/victorsalgado/Desktop/goodmental/src/screens/LoginScreen.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport * as Yup from 'yup';\r\nimport { View, Image, StyleSheet, TouchableOpacity } from \"react-native\";\r\nimport { KeyboardAwareScrollView } from \"react-native-keyboard-aware-scroll-view\";\r\nimport Checkbox from \"expo-checkbox\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { auth, signInWithEmailAndPassword } from '../firebase/firebase';\r\nimport { login } from '../redux/features/userSlice';\r\nimport Screen from \"../components/Screen\";\r\nimport Header from \"../components/Header\";\r\nimport AppText from \"../components/AppText\";\r\nimport AppForm from './../components/form/AppForm';\r\nimport AppFormField from './../components/form/AppFormField';\r\nimport SubmitButton from './../components/form/SubmitButton';\r\nimport { spacing, colors } from \"../theme\";\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  email: Yup.string().required().email().label(\"Email\"),\r\n  password: Yup.string().required().min(6).label(\"Password\"),\r\n});\r\n\r\nexport default function LoginScreen({ navigation }) {\r\n  const [toggleCheckBox, setToggleCheckBox] = useState(false);\r\n  const [values, setValues] = useState({});\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <>\r\n      <Header title=\"Iniciar sesión\" onPress={() => navigation.goBack()} />\r\n\r\n      <KeyboardAwareScrollView\r\n        contentContainerStyle={{\r\n          flexGrow: 1,\r\n          paddingHorizontal: 20,\r\n          paddingVertical: 25,\r\n        }}\r\n        showsHorizontalScrollIndicator={false}\r\n      >\r\n\r\n        <View style={styles.logoContainer}>\r\n        </View>\r\n        <View style={styles.formContainer}>\r\n\r\n          <AppForm\r\n            initialValues={{ email: \"\", password: \"\" }}\r\n            onSubmit={(values) => {\r\n\r\n              const email = values.email;\r\n              const password = values.password;\r\n\r\n              signInWithEmailAndPassword(auth, email, password)\r\n                .then((userCredential) => {\r\n                  // Signed in \r\n                  const user = userCredential.user;\r\n                  dispatch(login({\r\n                    displayName:user.displayName,\r\n                    email: user.email,\r\n                    uid: user.uid,\r\n                  }))\r\n                  navigation.navigate('AccountConfirmation')\r\n                })\r\n                .catch((error) => {\r\n                  const errorMessage = error.message;\r\n                  alert(errorMessage)\r\n                });\r\n\r\n            }}\r\n            validationSchema={validationSchema}\r\n          >\r\n\r\n            <AppFormField placeholderText=\"Correo electrónico\" name=\"email\" />\r\n            <AppFormField placeholderText=\"Contraseña\" name=\"password\" secureTextEntry />\r\n\r\n            <View style={styles.userCheckMeta}>\r\n              <TouchableOpacity onPress={() => navigation.navigate(\"ForgotPassword\")} >\r\n                <AppText style={styles.forgotPass}>¿Olvidaste tu contraseña?</AppText>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <SubmitButton title=\"Iniciar sesión\" style={{ marginTop: spacing[4] }} />\r\n          </AppForm>\r\n        </View>\r\n\r\n\r\n\r\n\r\n        <View style={styles.signUpLinkContainer}>\r\n          <View style={styles.signUpTextContainer}>\r\n            <AppText>¿No tienes una cuenta?</AppText>\r\n            <TouchableOpacity onPress={() => navigation.navigate(\"Register\")}>\r\n              <AppText preset=\"bold\" style={styles.link}>Regístrate</AppText>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </KeyboardAwareScrollView>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  logoContainer: {\r\n    marginTop: 15,\r\n    marginBottom: 50,\r\n    alignItems: \"center\",\r\n  },\r\n  userCheckMeta: {\r\n    alignItems: \"center\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  formContainer: {\r\n    paddingHorizontal: 20,\r\n  },\r\n  forgotPass: {\r\n    textAlign: \"right\",\r\n    color: colors.black\r\n  },\r\n  checkboxContainer: {\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n  label: {\r\n    margin: 8,\r\n    color: colors.black\r\n  },\r\n  loginBtn: {\r\n    marginTop: 20,\r\n  },\r\n  signUpLinkContainer: {\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    flex: 1,\r\n    flexDirection: \"row\",\r\n  },\r\n  signUpTextContainer: {\r\n    flexDirection: \"row\",\r\n  },\r\n  link: {\r\n    marginLeft: 5,\r\n    color: colors.primary,\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}